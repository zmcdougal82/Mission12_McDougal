{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import{BrowserRouter as Router,Routes,Route,Link,useNavigate}from'react-router-dom';import AdminBooks from'./AdminBooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Create a Cart context to share cart state across components\nconst CartContext=/*#__PURE__*/React.createContext({cart:[],addToCart:()=>{},updateQuantity:()=>{},removeFromCart:()=>{},clearCart:()=>{},lastViewedPage:1,setLastViewedPage:()=>{}});// Cart Provider Component\nfunction CartProvider(_ref){let{children}=_ref;const[cart,setCart]=useState([]);const[lastViewedPage,setLastViewedPage]=useState(1);// Add a book to the cart\nconst addToCart=book=>{setCart(prevCart=>{// Check if the book is already in the cart\nconst existingItem=prevCart.find(item=>item.book.bookId===book.bookId);if(existingItem){// If the book is already in the cart, increase the quantity\nreturn prevCart.map(item=>item.book.bookId===book.bookId?{...item,quantity:item.quantity+1}:item);}else{// If the book is not in the cart, add it with quantity 1\nreturn[...prevCart,{book,quantity:1}];}});};// Update the quantity of a book in the cart\nconst updateQuantity=(bookId,quantity)=>{if(quantity<=0){removeFromCart(bookId);return;}setCart(prevCart=>prevCart.map(item=>item.book.bookId===bookId?{...item,quantity}:item));};// Remove a book from the cart\nconst removeFromCart=bookId=>{setCart(prevCart=>prevCart.filter(item=>item.book.bookId!==bookId));};// Clear the cart\nconst clearCart=()=>{setCart([]);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,addToCart,updateQuantity,removeFromCart,clearCart,lastViewedPage,setLastViewedPage},children:children});}// Cart Page Component\nfunction CartPage(){const navigate=useNavigate();const{cart,updateQuantity,removeFromCart,clearCart,lastViewedPage}=React.useContext(CartContext);// Calculate cart totals\nconst itemCount=cart.reduce((total,item)=>total+item.quantity,0);const subtotal=cart.reduce((total,item)=>total+item.book.price*item.quantity,0);// If cart is empty, show a message\nif(cart.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate(`/?page=${lastViewedPage}`),children:\"Continue Shopping\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"Your cart is empty. Add some books to get started!\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger me-2\",onClick:()=>clearCart(),children:\"Clear Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate(`/?page=${lastViewedPage}`),children:\"Continue Shopping\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Book\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cart.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:item.book.title}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[item.book.author,\" | \",item.book.category]})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",item.book.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",style:{width:'150px'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:()=>updateQuantity(item.book.bookId,item.quantity-1),children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control text-center\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:()=>updateQuantity(item.book.bookId,item.quantity+1),children:\"+\"})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",(item.book.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:()=>removeFromCart(item.book.bookId),children:\"Remove\"})})]},item.book.bookId))}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"text-end\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Subtotal (\",itemCount,\" \",itemCount===1?'item':'items',\"):\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",subtotal.toFixed(2)]})}),/*#__PURE__*/_jsx(\"td\",{})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 d-md-flex justify-content-md-end mt-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-lg\",onClick:()=>{alert('Thank you for your purchase! This would normally proceed to checkout.');clearCart();navigate('/');},children:\"Proceed to Checkout\"})})]})})]});}// Cart Summary Component\nfunction CartSummary(){const navigate=useNavigate();const{cart,lastViewedPage}=React.useContext(CartContext);const[showCart,setShowCart]=useState(false);// Calculate cart totals\nconst itemCount=cart.reduce((total,item)=>total+item.quantity,0);const subtotal=cart.reduce((total,item)=>total+item.book.price*item.quantity,0);// If cart is empty, just show a simple button\nif(cart.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-summary\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",disabled:true,children:\"Cart (0)\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary position-relative\",onClick:()=>setShowCart(!showCart),children:[\"Cart\",/*#__PURE__*/_jsx(\"span\",{className:\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\",children:itemCount})]}),showCart&&/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-2\",style:{width:'300px',position:'absolute',right:0,zIndex:1000},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Shopping Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-close\",onClick:()=>setShowCart(false)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[cart.slice(0,3).map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'150px',overflow:'hidden',textOverflow:'ellipsis'},children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 text-truncate\",children:item.book.title}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"$\",item.book.price.toFixed(2),\" \\xD7 \",item.quantity]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[\"$\",(item.book.price*item.quantity).toFixed(2)]})})]},item.book.bookId)),cart.length>3&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"...and \",cart.length-3,\" more \",cart.length-3===1?'item':'items']})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"$\",subtotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 mt-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>{setShowCart(false);navigate('/cart');},children:\"Go to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",onClick:()=>{setShowCart(false);navigate(`/?page=${lastViewedPage}`);},children:\"Continue Shopping\"})]})]})]})]});}// Toast Component for notifications\nfunction Toast(_ref2){let{message,show,onClose}=_ref2;useEffect(()=>{if(show){const timer=setTimeout(()=>{onClose();},3000);return()=>clearTimeout(timer);}},[show,onClose]);return/*#__PURE__*/_jsx(\"div\",{className:`position-fixed bottom-0 end-0 p-3 ${show?'show':''}`,style:{zIndex:1050},children:/*#__PURE__*/_jsxs(\"div\",{className:`toast ${show?'show':''}`,role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toast-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary rounded me-2\",style:{width:'20px',height:'20px'}}),/*#__PURE__*/_jsx(\"strong\",{className:\"me-auto\",children:\"Bookstore\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Just now\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:onClose,\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:message})]})});}// Main BookList Component\nfunction BookList(){const navigate=useNavigate();const{addToCart,setLastViewedPage}=React.useContext(CartContext);const[books,setBooks]=useState([]);const[totalItems,setTotalItems]=useState(0);const[page,setPage]=useState(1);const{search}=window.location;const params=new URLSearchParams(search);const pageParam=params.get('page');const[showToast,setShowToast]=useState(false);const[toastMessage,setToastMessage]=useState('');const[groupByClassification,setGroupByClassification]=useState(false);const[expandedClassification,setExpandedClassification]=useState(null);// Initialize page from URL parameter if available\nuseEffect(()=>{if(pageParam){const pageNumber=parseInt(pageParam,10);if(!isNaN(pageNumber)&&pageNumber>0){setPage(pageNumber);}}},[pageParam]);const[pageSize,setPageSize]=useState(5);const[sortField,setSortField]=useState(\"Title\");const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState(\"All\");// Fetch categories for the filter dropdown\nuseEffect(()=>{const fetchCategories=async()=>{try{// Log the request URL for debugging\nconsole.log('Fetching categories from: /api/books/categories');const response=await axios.get('/api/books/categories');console.log('Categories response:',response.data);setCategories(response.data);}catch(error){console.error(\"Error fetching categories:\",error);// Try to get more detailed error information\nif(axios.isAxiosError(error)){var _error$response;console.error(\"Axios error details:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}}};fetchCategories();},[]);const fetchBooks=useCallback(async()=>{try{// Use a relative URL since the API is now served from the same origin\nconst response=await axios.get('/api/books',{params:{page,pageSize,sortField,sortOrder:'asc',category:selectedCategory===\"All\"?null:selectedCategory}});setBooks(response.data.books);setTotalItems(response.data.totalBooks);// Update last viewed page for \"Continue Shopping\" functionality\nsetLastViewedPage(page);}catch(error){console.error(\"Error fetching books:\",error);}},[page,pageSize,sortField,selectedCategory,setLastViewedPage]);useEffect(()=>{fetchBooks();},[fetchBooks]);const totalPages=Math.ceil(totalItems/pageSize);// Handle category change\nconst handleCategoryChange=category=>{setSelectedCategory(category);setPage(1);// Reset to first page when changing category\n};// Handle adding book to cart with toast notification\nconst handleAddToCart=book=>{addToCart(book);setToastMessage(`\"${book.title}\" has been added to your cart!`);setShowToast(true);};// Group books by classification\nconst booksByClassification=React.useMemo(()=>{if(!groupByClassification)return null;return books.reduce((acc,book)=>{const classification=book.classification||'Uncategorized';if(!acc[classification]){acc[classification]=[];}acc[classification].push(book);return acc;},{});},[books,groupByClassification]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book List\"}),/*#__PURE__*/_jsx(CartSummary,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"me-2\",children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm d-inline-block w-auto me-3\",value:selectedCategory,onChange:e=>handleCategoryChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-switch\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"groupByClassification\",checked:groupByClassification,onChange:()=>setGroupByClassification(!groupByClassification)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"groupByClassification\",children:\"Group by Classification\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 text-end\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"me-2\",children:\"Results per page:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm d-inline-block w-auto me-3\",value:pageSize,onChange:e=>{setPageSize(Number(e.target.value));setPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"me-2\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm d-inline-block w-auto\",value:sortField,onChange:e=>setSortField(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Publisher\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ISBN\",children:\"ISBN\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Classification\",children:\"Classification\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pages\",children:\"Pages\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Price\",children:\"Price\"})]})]})]}),groupByClassification&&booksByClassification?/*#__PURE__*/_jsx(\"div\",{className:\"accordion mb-4\",id:\"booksAccordion\",children:Object.entries(booksByClassification).map(_ref3=>{let[classification,classBooks]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-item\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"accordion-header\",children:/*#__PURE__*/_jsxs(\"button\",{className:`accordion-button ${expandedClassification===classification?'':'collapsed'}`,type:\"button\",onClick:()=>setExpandedClassification(expandedClassification===classification?null:classification),\"aria-expanded\":expandedClassification===classification,children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:classification}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 badge bg-secondary rounded-pill\",children:classBooks.length})]})}),/*#__PURE__*/_jsx(\"div\",{className:`accordion-collapse collapse ${expandedClassification===classification?'show':''}`,children:/*#__PURE__*/_jsx(\"div\",{className:\"accordion-body p-0\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},children:\"Publisher\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'},children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%',textAlign:'right'},children:\"Pages\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%',textAlign:'right'},children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:classBooks.map(book=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.title}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.author}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.publisher}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.category}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'right'},children:book.pageCount}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:'right'},children:[\"$\",book.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>handleAddToCart(book),children:\"Add to Cart\"})})]},book.bookId))})]})})})]},classification);})}):/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",style:{tableLayout:'fixed',width:'100%'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'12%'},children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'12%'},children:\"Publisher\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'12%'},children:\"ISBN\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'8%'},children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'8%'},children:\"Classification\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'8%',textAlign:'right'},children:\"Pages\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'8%',textAlign:'right'},children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books.map(book=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.title}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.author}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.publisher}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.isbn}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.category}),/*#__PURE__*/_jsx(\"td\",{style:{overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:book.classification}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'right'},children:book.pageCount}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:'right'},children:[\"$\",book.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>handleAddToCart(book),children:\"Add to Cart\"})})]},book.bookId))})]}),/*#__PURE__*/_jsx(Toast,{message:toastMessage,show:showToast,onClose:()=>setShowToast(false)}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:`page-item ${page===1?'disabled':''}`,children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setPage(page-1),children:\"Previous\"})}),Array.from({length:totalPages},(_,idx)=>/*#__PURE__*/_jsx(\"li\",{className:`page-item ${page===idx+1?'active':''}`,children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setPage(idx+1),children:idx+1})},idx)),/*#__PURE__*/_jsx(\"li\",{className:`page-item ${page===totalPages?'disabled':''}`,children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setPage(page+1),children:\"Next\"})})]})})]});}// App Layout Component\nfunction AppLayout(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:\"Bookstore\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Books\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/cart\",children:\"Cart\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/adminbooks\",children:\"Admin\"})})]})})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(BookList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/adminbooks\",element:/*#__PURE__*/_jsx(AdminBooks,{})})]})]});}// Main App Component\nfunction App(){return/*#__PURE__*/_jsx(CartProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppLayout,{})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","BrowserRouter","Router","Routes","Route","Link","useNavigate","AdminBooks","jsx","_jsx","jsxs","_jsxs","CartContext","createContext","cart","addToCart","updateQuantity","removeFromCart","clearCart","lastViewedPage","setLastViewedPage","CartProvider","_ref","children","setCart","book","prevCart","existingItem","find","item","bookId","map","quantity","filter","Provider","value","CartPage","navigate","useContext","itemCount","reduce","total","subtotal","price","length","className","onClick","title","author","category","toFixed","style","width","type","readOnly","colSpan","alert","CartSummary","showCart","setShowCart","disabled","position","right","zIndex","slice","maxWidth","overflow","textOverflow","Toast","_ref2","message","show","onClose","timer","setTimeout","clearTimeout","role","height","BookList","books","setBooks","totalItems","setTotalItems","page","setPage","search","window","location","params","URLSearchParams","pageParam","get","showToast","setShowToast","toastMessage","setToastMessage","groupByClassification","setGroupByClassification","expandedClassification","setExpandedClassification","pageNumber","parseInt","isNaN","pageSize","setPageSize","sortField","setSortField","categories","setCategories","selectedCategory","setSelectedCategory","fetchCategories","console","log","response","data","error","isAxiosError","_error$response","fetchBooks","sortOrder","totalBooks","totalPages","Math","ceil","handleCategoryChange","handleAddToCart","booksByClassification","useMemo","acc","classification","push","onChange","e","target","id","checked","htmlFor","Number","Object","entries","_ref3","classBooks","textAlign","whiteSpace","publisher","pageCount","tableLayout","isbn","Array","from","_","idx","AppLayout","to","path","element","App"],"sources":["/Users/zackmcdougal/Mission12_McDougal/WebApplication4/bookstore-client/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from 'react-router-dom';\nimport AdminBooks from './AdminBooks';\n\ninterface Book {\n  bookId: number;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  category: string;\n  classification: string;\n  pageCount: number;\n  price: number;\n}\n\ninterface CartItem {\n  book: Book;\n  quantity: number;\n}\n\n// Create a Cart context to share cart state across components\nconst CartContext = React.createContext<{\n  cart: CartItem[];\n  addToCart: (book: Book) => void;\n  updateQuantity: (bookId: number, quantity: number) => void;\n  removeFromCart: (bookId: number) => void;\n  clearCart: () => void;\n  lastViewedPage: number;\n  setLastViewedPage: (page: number) => void;\n}>({\n  cart: [],\n  addToCart: () => {},\n  updateQuantity: () => {},\n  removeFromCart: () => {},\n  clearCart: () => {},\n  lastViewedPage: 1,\n  setLastViewedPage: () => {},\n});\n\n// Cart Provider Component\nfunction CartProvider({ children }: { children: React.ReactNode }) {\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [lastViewedPage, setLastViewedPage] = useState(1);\n\n  // Add a book to the cart\n  const addToCart = (book: Book) => {\n    setCart(prevCart => {\n      // Check if the book is already in the cart\n      const existingItem = prevCart.find(item => item.book.bookId === book.bookId);\n      \n      if (existingItem) {\n        // If the book is already in the cart, increase the quantity\n        return prevCart.map(item => \n          item.book.bookId === book.bookId \n            ? { ...item, quantity: item.quantity + 1 } \n            : item\n        );\n      } else {\n        // If the book is not in the cart, add it with quantity 1\n        return [...prevCart, { book, quantity: 1 }];\n      }\n    });\n  };\n\n  // Update the quantity of a book in the cart\n  const updateQuantity = (bookId: number, quantity: number) => {\n    if (quantity <= 0) {\n      removeFromCart(bookId);\n      return;\n    }\n    \n    setCart(prevCart => \n      prevCart.map(item => \n        item.book.bookId === bookId \n          ? { ...item, quantity } \n          : item\n      )\n    );\n  };\n\n  // Remove a book from the cart\n  const removeFromCart = (bookId: number) => {\n    setCart(prevCart => prevCart.filter(item => item.book.bookId !== bookId));\n  };\n\n  // Clear the cart\n  const clearCart = () => {\n    setCart([]);\n  };\n\n  return (\n    <CartContext.Provider value={{ \n      cart, \n      addToCart, \n      updateQuantity, \n      removeFromCart, \n      clearCart,\n      lastViewedPage,\n      setLastViewedPage\n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\n// Cart Page Component\nfunction CartPage() {\n  const navigate = useNavigate();\n  const { cart, updateQuantity, removeFromCart, clearCart, lastViewedPage } = React.useContext(CartContext);\n  \n  // Calculate cart totals\n  const itemCount = cart.reduce((total, item) => total + item.quantity, 0);\n  const subtotal = cart.reduce((total, item) => total + (item.book.price * item.quantity), 0);\n  \n  // If cart is empty, show a message\n  if (cart.length === 0) {\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2>Shopping Cart</h2>\n        <button \n          className=\"btn btn-primary\"\n          onClick={() => navigate(`/?page=${lastViewedPage}`)}\n        >\n          Continue Shopping\n        </button>\n      </div>\n        <div className=\"alert alert-info\">\n          Your cart is empty. Add some books to get started!\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"container mt-4\">\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2>Shopping Cart</h2>\n        <div>\n          <button \n            className=\"btn btn-outline-danger me-2\"\n            onClick={() => clearCart()}\n          >\n            Clear Cart\n          </button>\n          <button \n            className=\"btn btn-primary\"\n            onClick={() => navigate(`/?page=${lastViewedPage}`)}\n          >\n            Continue Shopping\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"card-body\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Book</th>\n                <th>Price</th>\n                <th>Quantity</th>\n                <th>Total</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {cart.map(item => (\n                <tr key={item.book.bookId}>\n                  <td>\n                    <div>\n                      <h5 className=\"mb-0\">{item.book.title}</h5>\n                      <small className=\"text-muted\">\n                        {item.book.author} | {item.book.category}\n                      </small>\n                    </div>\n                  </td>\n                  <td>${item.book.price.toFixed(2)}</td>\n                  <td>\n                    <div className=\"input-group\" style={{ width: '150px' }}>\n                      <button \n                        className=\"btn btn-outline-secondary\" \n                        type=\"button\"\n                        onClick={() => updateQuantity(item.book.bookId, item.quantity - 1)}\n                      >\n                        -\n                      </button>\n                      <input \n                        type=\"text\" \n                        className=\"form-control text-center\" \n                        value={item.quantity}\n                        readOnly\n                      />\n                      <button \n                        className=\"btn btn-outline-secondary\" \n                        type=\"button\"\n                        onClick={() => updateQuantity(item.book.bookId, item.quantity + 1)}\n                      >\n                        +\n                      </button>\n                    </div>\n                  </td>\n                  <td>${(item.book.price * item.quantity).toFixed(2)}</td>\n                  <td>\n                    <button \n                      className=\"btn btn-sm btn-outline-danger\"\n                      onClick={() => removeFromCart(item.book.bookId)}\n                    >\n                      Remove\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colSpan={3} className=\"text-end\">\n                  <strong>Subtotal ({itemCount} {itemCount === 1 ? 'item' : 'items'}):</strong>\n                </td>\n                <td>\n                  <strong>${subtotal.toFixed(2)}</strong>\n                </td>\n                <td></td>\n              </tr>\n            </tfoot>\n          </table>\n          \n          <div className=\"d-grid gap-2 d-md-flex justify-content-md-end mt-4\">\n            <button \n              className=\"btn btn-success btn-lg\"\n              onClick={() => {\n                alert('Thank you for your purchase! This would normally proceed to checkout.');\n                clearCart();\n                navigate('/');\n              }}\n            >\n              Proceed to Checkout\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Cart Summary Component\nfunction CartSummary() {\n  const navigate = useNavigate();\n  const { cart, lastViewedPage } = React.useContext(CartContext);\n  const [showCart, setShowCart] = useState(false);\n  \n  // Calculate cart totals\n  const itemCount = cart.reduce((total, item) => total + item.quantity, 0);\n  const subtotal = cart.reduce((total, item) => total + (item.book.price * item.quantity), 0);\n  \n  // If cart is empty, just show a simple button\n  if (cart.length === 0) {\n    return (\n      <div className=\"cart-summary\">\n        <button className=\"btn btn-outline-primary\" disabled>\n          Cart (0)\n        </button>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"cart-summary\">\n      <button \n        className=\"btn btn-primary position-relative\" \n        onClick={() => setShowCart(!showCart)}\n      >\n        Cart\n        <span className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\n          {itemCount}\n        </span>\n      </button>\n      \n      {showCart && (\n        <div className=\"card mt-2\" style={{ width: '300px', position: 'absolute', right: 0, zIndex: 1000 }}>\n          <div className=\"card-header d-flex justify-content-between align-items-center\">\n            <h5 className=\"mb-0\">Shopping Cart</h5>\n            <button \n              className=\"btn-close\"\n              onClick={() => setShowCart(false)}\n            ></button>\n          </div>\n          <div className=\"card-body\">\n            {cart.slice(0, 3).map(item => (\n              <div key={item.book.bookId} className=\"d-flex justify-content-between align-items-center mb-2\">\n                <div style={{ maxWidth: '150px', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                  <h6 className=\"mb-0 text-truncate\">{item.book.title}</h6>\n                  <small className=\"text-muted\">${item.book.price.toFixed(2)} Ã— {item.quantity}</small>\n                </div>\n                <div>\n                  <span className=\"fw-bold\">${(item.book.price * item.quantity).toFixed(2)}</span>\n                </div>\n              </div>\n            ))}\n            \n            {cart.length > 3 && (\n              <div className=\"text-center mb-2\">\n                <small className=\"text-muted\">\n                  ...and {cart.length - 3} more {cart.length - 3 === 1 ? 'item' : 'items'}\n                </small>\n              </div>\n            )}\n            \n            <hr />\n            <div className=\"d-flex justify-content-between\">\n              <h5>Subtotal:</h5>\n              <h5>${subtotal.toFixed(2)}</h5>\n            </div>\n            \n            <div className=\"d-grid gap-2 mt-3\">\n              <button \n                className=\"btn btn-primary\"\n                onClick={() => {\n                  setShowCart(false);\n                  navigate('/cart');\n                }}\n              >\n                Go to Cart\n              </button>\n              <button \n                className=\"btn btn-outline-secondary\"\n                onClick={() => {\n                  setShowCart(false);\n                  navigate(`/?page=${lastViewedPage}`);\n                }}\n              >\n                Continue Shopping\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Toast Component for notifications\nfunction Toast({ message, show, onClose }: { message: string, show: boolean, onClose: () => void }) {\n  useEffect(() => {\n    if (show) {\n      const timer = setTimeout(() => {\n        onClose();\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [show, onClose]);\n\n  return (\n    <div className={`position-fixed bottom-0 end-0 p-3 ${show ? 'show' : ''}`} style={{ zIndex: 1050 }}>\n      <div \n        className={`toast ${show ? 'show' : ''}`} \n        role=\"alert\" \n        aria-live=\"assertive\" \n        aria-atomic=\"true\"\n      >\n        <div className=\"toast-header\">\n          <div className=\"bg-primary rounded me-2\" style={{ width: '20px', height: '20px' }}></div>\n          <strong className=\"me-auto\">Bookstore</strong>\n          <small>Just now</small>\n          <button \n            type=\"button\" \n            className=\"btn-close\" \n            onClick={onClose}\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div className=\"toast-body\">\n          {message}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Main BookList Component\nfunction BookList() {\n  const navigate = useNavigate();\n  const { addToCart, setLastViewedPage } = React.useContext(CartContext);\n  const [books, setBooks] = useState<Book[]>([]);\n  const [totalItems, setTotalItems] = useState(0);\n  const [page, setPage] = useState(1);\n  const { search } = window.location;\n  const params = new URLSearchParams(search);\n  const pageParam = params.get('page');\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [groupByClassification, setGroupByClassification] = useState(false);\n  const [expandedClassification, setExpandedClassification] = useState<string | null>(null);\n  \n  // Initialize page from URL parameter if available\n  useEffect(() => {\n    if (pageParam) {\n      const pageNumber = parseInt(pageParam, 10);\n      if (!isNaN(pageNumber) && pageNumber > 0) {\n        setPage(pageNumber);\n      }\n    }\n  }, [pageParam]);\n  const [pageSize, setPageSize] = useState(5);\n  const [sortField, setSortField] = useState(\"Title\");\n  const [categories, setCategories] = useState<string[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"All\");\n\n  // Fetch categories for the filter dropdown\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        // Log the request URL for debugging\n        console.log('Fetching categories from: /api/books/categories');\n        const response = await axios.get('/api/books/categories');\n        console.log('Categories response:', response.data);\n        setCategories(response.data);\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n        // Try to get more detailed error information\n        if (axios.isAxiosError(error)) {\n          console.error(\"Axios error details:\", error.response?.data || error.message);\n        }\n      }\n    };\n    \n    fetchCategories();\n  }, []);\n\n  const fetchBooks = useCallback(async () => {\n    try {\n      // Use a relative URL since the API is now served from the same origin\n      const response = await axios.get('/api/books', {\n        params: { \n          page, \n          pageSize, \n          sortField, \n          sortOrder: 'asc',\n          category: selectedCategory === \"All\" ? null : selectedCategory\n        },\n      });\n      setBooks(response.data.books);\n      setTotalItems(response.data.totalBooks);\n      // Update last viewed page for \"Continue Shopping\" functionality\n      setLastViewedPage(page);\n    } catch (error) {\n      console.error(\"Error fetching books:\", error);\n    }\n  }, [page, pageSize, sortField, selectedCategory, setLastViewedPage]);\n\n  useEffect(() => {\n    fetchBooks();\n  }, [fetchBooks]);\n\n  const totalPages = Math.ceil(totalItems / pageSize);\n\n  // Handle category change\n  const handleCategoryChange = (category: string) => {\n    setSelectedCategory(category);\n    setPage(1); // Reset to first page when changing category\n  };\n  \n  // Handle adding book to cart with toast notification\n  const handleAddToCart = (book: Book) => {\n    addToCart(book);\n    setToastMessage(`\"${book.title}\" has been added to your cart!`);\n    setShowToast(true);\n  };\n  \n  // Group books by classification\n  const booksByClassification = React.useMemo(() => {\n    if (!groupByClassification) return null;\n    \n    return books.reduce<Record<string, Book[]>>((acc, book) => {\n      const classification = book.classification || 'Uncategorized';\n      if (!acc[classification]) {\n        acc[classification] = [];\n      }\n      acc[classification].push(book);\n      return acc;\n    }, {});\n  }, [books, groupByClassification]);\n\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2>Book List</h2>\n        <CartSummary />\n      </div>\n\n      {/* Filters and Controls */}\n      <div className=\"row mb-3\">\n        <div className=\"col-md-4\">\n          <div className=\"d-flex align-items-center\">\n            <label className=\"me-2\">Category:</label>\n            <select \n              className=\"form-select form-select-sm d-inline-block w-auto me-3\"\n              value={selectedCategory}\n              onChange={(e) => handleCategoryChange(e.target.value)}\n            >\n              <option value=\"All\">All Categories</option>\n              {categories.map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n            \n            <div className=\"form-check form-switch\">\n              <input \n                className=\"form-check-input\" \n                type=\"checkbox\" \n                id=\"groupByClassification\"\n                checked={groupByClassification}\n                onChange={() => setGroupByClassification(!groupByClassification)}\n              />\n              <label className=\"form-check-label\" htmlFor=\"groupByClassification\">\n                Group by Classification\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-8 text-end\">\n          <label className=\"me-2\">Results per page:</label>\n          <select\n            className=\"form-select form-select-sm d-inline-block w-auto me-3\"\n            value={pageSize}\n            onChange={(e) => {\n              setPageSize(Number(e.target.value));\n              setPage(1);\n            }}\n          >\n            <option value={5}>5</option>\n            <option value={10}>10</option>\n            <option value={20}>20</option>\n          </select>\n          <label className=\"me-2\">Sort by:</label>\n          <select \n            className=\"form-select form-select-sm d-inline-block w-auto\"\n            value={sortField} \n            onChange={(e) => setSortField(e.target.value)}\n          >\n            <option value=\"Title\">Title</option>\n            <option value=\"Author\">Author</option>\n            <option value=\"Publisher\">Publisher</option>\n            <option value=\"ISBN\">ISBN</option>\n            <option value=\"Category\">Category</option>\n            <option value=\"Classification\">Classification</option>\n            <option value=\"Pages\">Pages</option>\n            <option value=\"Price\">Price</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Books Display - Either Accordion or Table */}\n      {groupByClassification && booksByClassification ? (\n        <div className=\"accordion mb-4\" id=\"booksAccordion\">\n          {Object.entries(booksByClassification).map(([classification, classBooks]) => (\n            <div className=\"accordion-item\" key={classification}>\n              <h2 className=\"accordion-header\">\n                <button \n                  className={`accordion-button ${expandedClassification === classification ? '' : 'collapsed'}`}\n                  type=\"button\" \n                  onClick={() => setExpandedClassification(expandedClassification === classification ? null : classification)}\n                  aria-expanded={expandedClassification === classification}\n                >\n                  <span className=\"fw-bold\">{classification}</span>\n                  <span className=\"ms-2 badge bg-secondary rounded-pill\">{classBooks.length}</span>\n                </button>\n              </h2>\n              <div \n                className={`accordion-collapse collapse ${expandedClassification === classification ? 'show' : ''}`}\n              >\n                <div className=\"accordion-body p-0\">\n                  <table className=\"table table-striped mb-0\">\n                    <thead>\n                      <tr>\n                        <th style={{ width: '20%' }}>Title</th>\n                        <th style={{ width: '15%' }}>Author</th>\n                        <th style={{ width: '15%' }}>Publisher</th>\n                        <th style={{ width: '10%' }}>Category</th>\n                        <th style={{ width: '10%', textAlign: 'right' }}>Pages</th>\n                        <th style={{ width: '10%', textAlign: 'right' }}>Price</th>\n                        <th style={{ width: '10%' }}></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {classBooks.map((book) => (\n                        <tr key={book.bookId}>\n                          <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.title}</td>\n                          <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.author}</td>\n                          <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.publisher}</td>\n                          <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.category}</td>\n                          <td style={{ textAlign: 'right' }}>{book.pageCount}</td>\n                          <td style={{ textAlign: 'right' }}>${book.price.toFixed(2)}</td>\n                          <td>\n                            <button \n                              className=\"btn btn-sm btn-primary\"\n                              onClick={() => handleAddToCart(book)}\n                            >\n                              Add to Cart\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <table className=\"table table-striped\" style={{ tableLayout: 'fixed', width: '100%' }}>\n          <thead>\n            <tr>\n              <th style={{ width: '15%' }}>Title</th>\n              <th style={{ width: '12%' }}>Author</th>\n              <th style={{ width: '12%' }}>Publisher</th>\n              <th style={{ width: '12%' }}>ISBN</th>\n              <th style={{ width: '8%' }}>Category</th>\n              <th style={{ width: '8%' }}>Classification</th>\n              <th style={{ width: '8%', textAlign: 'right' }}>Pages</th>\n              <th style={{ width: '8%', textAlign: 'right' }}>Price</th>\n              <th style={{ width: '10%' }}></th>\n            </tr>\n          </thead>\n          <tbody>\n            {books.map((book) => (\n              <tr key={book.bookId}>\n                <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.title}</td>\n                <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.author}</td>\n                <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.publisher}</td>\n                <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.isbn}</td>\n                <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.category}</td>\n                <td style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{book.classification}</td>\n                <td style={{ textAlign: 'right' }}>{book.pageCount}</td>\n                <td style={{ textAlign: 'right' }}>${book.price.toFixed(2)}</td>\n                <td>\n                  <button \n                    className=\"btn btn-sm btn-primary\"\n                    onClick={() => handleAddToCart(book)}\n                  >\n                    Add to Cart\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      \n      {/* Toast notification */}\n      <Toast \n        message={toastMessage} \n        show={showToast} \n        onClose={() => setShowToast(false)} \n      />\n\n      {/* Pagination */}\n      <nav>\n        <ul className=\"pagination\">\n          <li className={`page-item ${page === 1 ? 'disabled' : ''}`}>\n            <button className=\"page-link\" onClick={() => setPage(page - 1)}>\n              Previous\n            </button>\n          </li>\n          {Array.from({ length: totalPages }, (_, idx) => (\n            <li key={idx} className={`page-item ${page === idx + 1 ? 'active' : ''}`}>\n              <button className=\"page-link\" onClick={() => setPage(idx + 1)}>\n                {idx + 1}\n              </button>\n            </li>\n          ))}\n          <li className={`page-item ${page === totalPages ? 'disabled' : ''}`}>\n            <button className=\"page-link\" onClick={() => setPage(page + 1)}>\n              Next\n            </button>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n}\n\n// App Layout Component\nfunction AppLayout() {\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div className=\"container\">\n          <Link className=\"navbar-brand\" to=\"/\">Bookstore</Link>\n          <div className=\"collapse navbar-collapse\">\n            <ul className=\"navbar-nav ms-auto\">\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/\">Books</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/cart\">Cart</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/adminbooks\">Admin</Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      \n      <Routes>\n        <Route path=\"/\" element={<BookList />} />\n        <Route path=\"/cart\" element={<CartPage />} />\n        <Route path=\"/adminbooks\" element={<AdminBooks />} />\n      </Routes>\n    </div>\n  );\n}\n\n// Main App Component\nfunction App() {\n  return (\n    <CartProvider>\n      <Router>\n        <AppLayout />\n      </Router>\n    </CartProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}